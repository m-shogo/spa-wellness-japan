(()=>{var e={104:()=>{!function(){const e=wp.hooks,t="formidable-pro",n="sec",i="millisec",{__:r,sprintf:o}=wp.i18n;let l;function a(){const e="frmSliderTypeSelectorModal";function t(t,i){const r=frmDom.tag("input",{id:`slider_type_${i}`,className:"frm_hidden"});r.type="radio",r.name="slider_type",r.value=i;const o=frmDom.tag("button",{className:`frm-slider-type-selector-modal-button frm-slider-type-selector-modal-button-${i}`}),a=frmDom.tag("label",{className:"frm-slider-type-selector-modal-container",children:[o,t,r]});return a.setAttribute("for",`slider_type_${i}`),a.addEventListener("click",(()=>{r.checked=!0,jQuery("#"+e).dialog("close");const t={is_range_slider:"range"===i?1:0},o=l?.closest(".edit_field_type_divider")?.getAttribute("data-fid")??0;o&&(t.in_section=o),frmAdminBuild.insertFormField("range",t).then((function(e){l?frmAdminBuild.handleInsertFieldByDraggingResponse(e,jQuery(l),"range",n()):frmAdminBuild.handleAddFieldClickResponse(e,"range",n())}))})),a}function n(){return new URLSearchParams(window.location.search).get("id")}frmDom.modal.maybeCreateModal(e,{title:r("Choose type of slider","formidable-pro"),content:function(){const e=frmDom.div({children:[t(r("Single","formidable-pro"),"single"),t(r("Range","formidable-pro"),"range")],className:"frm-slider-type-selector-modal frm-flex-box"});return e.style.padding="var(--gap-md)",e}()})}e.addFilter("frm_conditional_logic_field_options",t,(function(e,t){return"scale"===t.type&&(e=function(e){let t=[];return document.querySelectorAll('input[name^="item_meta['+e+']"]').forEach((e=>{t.push(e.value)})),t}(t.fieldId)),e})),e.addAction("frm_after_delete_field","formidable-pro",(function(e){const t=f(e.id);document.querySelector(`a[data-code="${t}"]`)?.closest(".frm-customize-list")?.remove()})),e.addAction("frm_stopped_inserting_by_dragging",t,(function(e){if("range"!==e)return;const t=document.getElementById("frm_drag_placeholder");t&&(l||(l=document.createElement("div"),l.id="frm_range_placeholder"),t.parentNode.insertBefore(l,t))})),e.addAction("frm_before_delete_field_option",t,(function(e){const t=e.closest(".frm_single_option").querySelector('.frm_option_key input[type="text"]');if(!t)return;const n=t.value;document.querySelectorAll(".frm_logic_row").forEach((e=>{const t=e.id.split("_")[2],i=e.querySelector('select[name="field_options[hide_opt_'+t+'][]"] option[value="'+n+'"]');i&&i.remove()}))})),e.addAction("frmShowedFieldSettings",t,(function(e,t){(function(e){const t=e.querySelector(".frm-default-value-select");if(!t)return;const n=t.closest(".frm-with-right-icon"),i=n.querySelector("input.default-value-field"),r=n.querySelector(".frm_more_horiz_solid_icon"),o=i.getBoundingClientRect().top-n.getBoundingClientRect().top;r.style.top=`${o}px`;const l="frm-toggle-custom"===t.value;i.classList.toggle("frm_hidden",!l),r.classList.toggle("frm_hidden",!l)})(t),function(e){const t=e.querySelector(".frm_format_dropdown");if(!t)return;const n=t.value,i=e.dataset.fid;if(d(n)){const e=document.getElementById(`frm-field-format-currency-${i}`);if(e.classList.remove("frm_hidden"),"currency"===n){const t=document.getElementById(`frm_use_global_currency_${i}`);t.closest(".frm_form_field").classList.remove("frm_hidden"),t.checked&&e.classList.add("frm_hidden")}const t=document.getElementById(`frm_format_${i}`);d(t.value)||t.setAttribute("value",n)}}(t),b(t.querySelector('input[name^="field_options[any_all_"]:checked')),function(e){e.querySelectorAll('[name^="field_options[hide_field_"]').forEach((e=>{if(""===e.value)return;const t=document.getElementById("field_"+e.value+"_inner_container");if(!t)return;const n=t.querySelector(".frm_form_fields.frm_opt_container");if(!n)return;const i=e.name.replace("field_options[hide_field_","").replace("]","").replace("[]","");"date"===n.dataset.ftype&&s(e.closest(".frm_logic_row").querySelector('[name="field_options[hide_opt_'+i+'][]"]'))}))}(t)})),e.addFilter("frm_should_stop_inserting_field",t,(function(e,t){return"range"===t}));const d=e=>Boolean(e)&&["currency","number"].includes(e),s=e=>{jQuery(e).datepicker({changeMonth:!0,changeYear:!0,dateFormat:"yy-mm-dd",beforeShow:function(){document.getElementById("ui-datepicker-div")?.classList.add("frm-datepicker")}})};function c(e,t){let n=t;if(!n&&(n=e.closest(".frm_range_container"),!n))return;const i=e.closest(".frm_field_box")?.dataset.fid;if(!i)return;const[r,o]=m(i),l=(o-r)/((document.querySelector(`[name="field_options[maxnum_${i}]"]`).value||0)-r)*100;n.querySelector(".max-handle").style.right=100-l+"%",n.querySelector(".frm-slider-range").style.width=`${l}%`,n.querySelector(".min-value").textContent=E(e,r),n.querySelector(".max-value").textContent=E(e,o)}function m(e){const t=document.querySelector(`[name="field_options[minnum_${e}]"]`).value||0;let n=document.querySelector(`[name="field_options[maxgap_${e}]"]`).value;return n||(n=parseFloat(document.querySelector(`[name="field_options[maxnum_${e}]"]`).value)-t),[parseFloat(t),parseFloat(t)+parseFloat(n)]}const u=e=>{if(["data","divider","end_divider","captcha","break","html","form","summary"].includes(e.frmType))return;const t=_("id",e),n=_("key",e),i=frmDom.tag("li",{className:"frm-customize-list dropdown-item show_frm_not_email_to",children:[t,n]});document.querySelector("#frm-insert-fields-box .frm_code_list")?.insertAdjacentElement("beforeend",i)},f=e=>e.replace("frm_field_id_",""),_=(e,t)=>{const n=f(t.frmField.id),i=document.getElementById(`field_options_field_key_${n}`)?.value,r="id"===e,o=r?n:i,l=frmDom.a({className:(r?"frmids ":"frmkeys ")+"frm_insert_code",children:[document.querySelector(`.frm_t${t.frmType} .frmsvg`).cloneNode(!0),document.getElementById(`frm_name_${n}`).value,frmDom.span(`[${o}]`)]}),a=document.querySelector("#frm-insert-fields-box .subsubsub .frmids")?.classList.contains("current");return(r&&!a||!r&&a)&&l.classList.add("frm_hidden"),l.setAttribute("data-code",r?n:i),l};function p(e,t){const n=e.querySelector("svg.frmsvg")?.nextSibling;n&&n.nodeType===Node.TEXT_NODE&&(n.textContent=t)}function g(e){const t=document.querySelectorAll("#frm_info_modal .dismiss, #frm_info_modal #frm-info-click, .ui-widget-overlay.ui-front");function n(){e.classList.add("frm_invalid_field"),setTimeout((()=>e.focus()),0),t.forEach((e=>{e.removeEventListener("click",n)}))}t.forEach((e=>{e.addEventListener("click",n)}))}function y(){y.prototype.instance=this,this.timeFieldLinkedDateElements=[],this.listenForPossibleNewlyDateCreatedFields=()=>{window.frmAdminBuild.hooks.addAction("frm_after_field_added_in_form_builder",(e=>{"date"===e.fieldType&&this.updateTimeFieldLinkedDateDropdowns(e.fieldId)})),window.frmAdminBuild.hooks.addAction("frm_after_delete_field",(e=>{const t=e.dataset.rangeStartFieldId;t&&this.resetStartField(t,e.dataset.ftype),"date"===e.dataset.ftype&&this.removeTimeFieldLinkedDateElements(e.dataset.fid)}))},this.removeTimeFieldLinkedDateElements=e=>{document.querySelectorAll("select.frm-time-field-linked-date-field").forEach((t=>{t.removeChild(t.querySelector('option[value="'+e+'"]'))}))},this.updateTimeFieldLinkedDateDropdowns=e=>{const t=document.querySelectorAll("select.frm-time-field-linked-date-field"),n=document.createElement("option");n.value=e,n.text="ID "+e,t.forEach((e=>{e.appendChild(n.cloneNode(!0))}))},this.initDateRangeOption=e=>{const t=e.querySelector('input[type="checkbox"]');t.disabled||(t.checked?this.removeField(t.dataset.fieldId,t.dataset.rangeType,e):(this.insertField(t.dataset.rangeType,t.dataset.fieldId,t.closest(".frm-single-settings")),setTimeout((()=>t.checked=!0))))},this.initUniqueOptionCheckbox=e=>{const t=e.id.replace("frm_uniq_field_",""),n=this.queryElementById("frm_linked_date_field_",t);n&&(e.checked?n.classList.remove("frm_hidden"):n.classList.add("frm_hidden"))},this.removeField=(e,t,n)=>{const i=this.getFieldBox(e),l=i.dataset.rangeEndFieldId,a=n.closest("label"),d=o(r("Disabling the %s range will delete the end %s field. Are you sure you want to continue?","formidable-pro"),t.charAt(0).toUpperCase()+t.slice(1),t.charAt(0).toUpperCase()+t.slice(1));a.setAttribute("data-href","#"),a.setAttribute("data-frmverify",d),a.setAttribute("data-frmverify-btn","frm-button-red"),a.setAttribute("data-deletefield",l),l&&window.frmAdminBuild.confirmLinkClick&&(i.removeAttribute("data-range-end-field-id"),window.frmAdminBuild.confirmLinkClick(a))},this.resetStartField=(e,t)=>{const n=document.getElementById("frm_is_range_start_field_"+e),i=document.getElementById("frm_range_end_field_"+e),l=o(r("%s","formidable-pro"),t.charAt(0).toUpperCase()+t.slice(1)),a=document.getElementById("frm_range_field_"+e);null!==n&&null!==i&&(n.remove(),i.remove(),a.checked=!1,this.queryElementById("frm_name_",e).value=l,this.queryElementById("field_label_",e).innerText=l)},this.getFieldBox=e=>this.queryElementById("frm_field_id_",e),this.addSyncRangeFieldsClassToYearRangeInputs=(e,t)=>{"date"===t&&this.queryElementById("frm-date-year-range-container-",e).querySelectorAll("input").forEach((e=>{e.classList.add("frm_sync_range_fields")}))},this.insertField=(t,n,i)=>{if(!window.frmAdminBuild.insertFormField)return;const l={is_range_end_field:!0,range_start_field:n,classes:"frm6"},a=this.getSectionIdFromSettingsElement(i);a&&(l.in_section=a),window.frmAdminBuild.insertFormField(t,l).then((i=>{const l=jQuery(i),a=l[0].id.replace("frm_field_id_",""),d=this.getFieldBox(n),s=d.closest(".frm_grid_container"),c=o(r("Start %s","formidable-pro"),t.charAt(0).toUpperCase()+t.slice(1)),m=o(r("End %s","formidable-pro"),t.charAt(0).toUpperCase()+t.slice(1));this.addSyncRangeFieldsClassToYearRangeInputs(n,t),e.doAction("frmpro_after_field_created_when_range_enabled",n,a,t),d.dataset.rangeEndFieldId=a,s.appendChild(l[0]),this.queryElementById("frm_name_",n).value=c,this.queryElementById("field_label_",n).innerText=c,this.queryElementById("frm_name_",a).value=m,this.queryElementById("field_label_",a).innerText=m,frmAdminBuild.syncLayoutClasses(jQuery(l.closest("ul").children()[0]))}))},this.getSectionIdFromSettingsElement=e=>{if(!e)return 0;const t=e.id.replace("frm-single-settings-",""),n=document.getElementById("frm_in_section_"+t);return n?.value??0},this.listenForPossibleNewlyDateCreatedFields()}function h(e,t,n){["custom_decimals","custom_decimal_separator","custom_thousand_separator","custom_symbol_left","custom_symbol_right"].forEach((t=>{const i="number"===n&&["custom_symbol_left","custom_symbol_right"].includes(t)?"":frmProBuilderVars.currency[t.replace("custom_","")];e.querySelector('[name^="field_options['+t+'_"]').value=i}));const i=e.querySelector('input[name^="field_options[calc_dec_"]');i&&(i.value="2");const r=document.getElementById(`frm_use_global_currency_${t}`);r.checked=!0,r.nextElementSibling.value="1"}function v(e,t){const n=document.getElementById(`frm-single-settings-${e}`),i=document.querySelector(`[name="item_meta[${e}]"]`),r=document.getElementById(`frm_default_value_${e}`).value;if(!r)return void(i.value="");const o=A(e,n),l=r.replace(/(?<![\w-])\d+(?:[.,]\d+)*(?![\w-])/g,((e,n)=>{const i=r.substring(0,n).lastIndexOf("[");if(-1!==i){const t=r.indexOf("]",i);if(-1!==t&&n<t)return e}return k(B(e,o,t),o,t)}));i.value=l}function b(e){if(!e)return;const t=e.closest('[id^="frm_logic_row_"]'),{and:n,or:i}=frmProBuilderVars.i18n,r="all"===e.value?n:i;t.setAttribute("data-rule-text",r),t.querySelectorAll(".frm-logic-rule-text").forEach((e=>e.textContent=r))}function S({field:e,att:t,newValue:n}){if("hidden"===e.type){const t=e.closest(".frm_field_box")?.dataset.fid;if(!t)return;const[n,i]=m(t),r=e.closest(".frm_range_container");return r.querySelector(".min-value").textContent=E(e,n),void(r.querySelector(".max-value").textContent=E(e,i))}var i;("value"===t?(""===n&&(n=q(e)),e.value=n):e.setAttribute(t,n),-1!==["value","min","max"].indexOf(t))&&("max"!==t&&"min"!==t||""!==(i=e.id,document.querySelector('input[data-changeme="'+i+'"][data-changeatt="value"]').value)||(e.value=q(e)),e.parentNode.querySelector(".frm_range_value").textContent=E(e,e.value))}function E(e,t){const n=e.getAttribute("name").replace("item_meta[","").replace("]",""),i=document.getElementById("frm-single-settings-"+n),r=A(n,i),o=i.querySelector(".frm_format_dropdown").value;return k(t=B(t,r,o),r,o)}function q(e){const t=parseFloat(e.getAttribute("max")),n=parseFloat(e.getAttribute("min"));return(t-n)/2+n}function A(e,t){const n={...frmProBuilderVars.currency},i=(n,i)=>{let r=`${n}[name="field_options[${i}_${e}]"]`;return"select"===n&&(r+=" option:checked"),t.querySelector(r)?.value??""};let r;return r=document.querySelector(`[name="field_options[custom_decimals_${e}]"]`)?.classList.contains("frm_hidden")?i("input","calc_dec"):i("select","custom_decimals"),n.decimals=parseInt(r),n.decimal_separator=i("input","custom_decimal_separator"),n.thousand_separator=i("input","custom_thousand_separator"),n.symbol_left=i("input","custom_symbol_left"),n.symbol_right=i("input","custom_symbol_right"),n}function B(e,t,n=null){return d(n)?w(e=t.decimals>0?(i=e,r=t.decimals,Number(Math.round(i+"e"+r)+"e-"+r)):Math.ceil(e),t):e;var i,r}function k(e,t,n=null){return d(n)?(e=function(e,t){var n=e.split(t.decimal_separator);return 2!==n.length||n[1].length<=t.decimals?e:0===t.decimals?n[0]:n[0]+t.decimal_separator+n[1].substr(0,t.decimals)}(e=w(e,t),t),e=function(e,t){if(!t.thousand_separator)return e.toString();const[n,i]=e.toString().split(t.decimal_separator),r=n.replace(/\B(?=(\d{3})+(?!\d))/g,t.thousand_separator);return void 0!==i?`${r}.${i}`:r}(e,t),t.symbol_left+t.symbol_padding+e+(t.symbol_padding+t.symbol_right)):e}function w(e,t){if("number"!=typeof e)return e;const n=(e+="").indexOf(".");return-1===n?e+=".00":e.substring(n+1).length<2&&(e+="0"),e.replace(".",t.decimal_separator)}y.prototype.cachedElements={},y.prototype.queryElementById=(e,t)=>(void 0===y.prototype.cachedElements[e+t]&&(y.prototype.cachedElements[e+t]=document.getElementById(e+t)),y.prototype.cachedElements[e+t]),y.initOnchange=e=>{e.id.match("frm_uniq_field_[0-9]+")&&y.prototype.instance.initUniqueOptionCheckbox(e)},y.initOnClick=e=>{const t=e.target;t.classList.contains("frm-field-date-or-time-enable-range")&&y.prototype.instance.initDateRangeOption(t)},new y,e.addAction("frm_update_slider_field_preview",t,S,10);const I={transition:!1,onChangeTransition:function(e){I.transition=e.target.value,document.querySelectorAll(".frm_page_transition_setting").forEach((t=>{t.id!==e.target.id&&(t.value=e.target.value)}))},onAddedField:function(e){!1!==I.transition&&"break"===e.frmType&&(document.getElementById("frm_transition_"+e.frmField.dataset.fid).value=I.transition)}},L={init:function(){e.addAction("frmShowedFieldSettings",t,this.showedFieldSettings),document.addEventListener("frm_added_field",(function(e){"break"===e.frmType&&L.isRootlineAvailable()&&L.updateRootline()})),e.addAction("frm_renumber_page_breaks",t,(function(e){L.isRootlineAvailable()&&(e.length>1?L.updateRootline():L.toggleRootline(!1))})),frmDom.util.documentOn("change","#frm-rootline-type,#frm-rootline-titles-on,.frm-rootline-title-setting input,#frm-rootline-numbers-off,#frm-lines-numbers-off",this.updateRootline),this.makeRootlineResponsive()},isRootlineAvailable:function(){return document.getElementById("frm-rootline-type")},showedFieldSettings:function(e,t){"rootline"===e.dataset.fid&&L.loadPageTitlesSetting(t)},loadPageTitlesSetting:function(e){const t=document.querySelectorAll(".frm_field_box.edit_field_type_break"),n=e.querySelectorAll(".frm-rootline-title-setting"),i=t.length+1;for(let e=1;e<i;e++)void 0!==n[e]?n[e].classList.remove("frm_hidden"):L.appendPageTitleSetting(n[0],t[e-1]);if(i<n.length)for(let e=i;e<n.length;e++)n[e].classList.add("frm_hidden")},appendPageTitleSetting:function(e,t){const n=e.cloneNode(!0),i=n.querySelector("label"),r=n.querySelector("input"),o=t.dataset.fid;frmDom.setAttributes(i,{for:i.getAttribute("for").replace("1",o)}),frmDom.setAttributes(r,{id:r.id.replace("1",o),name:r.name.replace("[0]","["+o+"]"),"data-page":o,value:t.querySelector(".frm_button_submit").innerText}),e.parentNode.appendChild(n)},getSettings:function(){return{type:document.getElementById("frm-rootline-type").value,position:document.getElementById("frm-pagination-position").value,titlesOn:document.getElementById("frm-rootline-titles-on").checked,numbersOn:!document.getElementById("frm-rootline-numbers-off").checked,linesOn:!document.getElementById("frm-rootline-lines-off").checked,titles:Array.from(document.querySelectorAll(".frm-rootline-title-setting input")).map((e=>e.value))}},updateRootline:function(){const t=L.getSettings();if(!t.type)return void L.toggleRootline(!1);if(L.toggleRootline(!0),e.applyFilters("frm_pro_backend_update_rootline",!1,t,L))return;const n=document.getElementById("frm-backend-rootline"),i=n.querySelector("ul"),o=document.querySelectorAll(".frm-page-num");Array.from(i.children).forEach((e=>e.remove()));for(let e=0;e<o.length;e++)o.length-1===e&&i.appendChild(L.getRootlineItem({title:"",number:"...",className:"frm-rootline-item-more frm_hidden"},t)),i.appendChild(L.getRootlineItem({title:t.titles[e]||wp.i18n.sprintf(r("Page %d","formidable-pro"),e+1),number:e+1},t));n.setAttribute("data-type",t.type),n.classList.toggle("frm-rootline-no-titles",!t.titlesOn),n.classList.toggle("frm-rootline-no-numbers",!t.numbersOn),n.classList.toggle("frm-rootline-no-lines",!t.linesOn),n.querySelector(".frm_pages_total").innerText=o.length,L.resizeRootline()},getRootlineItem:function(e,t){return frmDom.tag("li",{children:["rootline"===t.type?frmDom.tag("span",{className:"frm-rootline-number",text:e.number}):"",frmDom.tag("span",{className:"frm-rootline-title",text:e.title})],className:e.className})},toggleRootline:function(e){document.getElementById("frm-backend-rootline-wrapper").classList.toggle("frm_hidden",!e)},resizeRootline:function(){if(!L.isRootlineAvailable())return;const e=document.getElementById("frm-backend-rootline");if("rootline"!==e.dataset.type)return;const t=e.offsetWidth,n=e.classList.contains("frm-rootline-no-titles")?50:150,i=Math.floor(t/n),r=e.querySelectorAll("li");r.forEach(((e,t)=>{t&&r.length-1!==t&&(r.length<i+2?e.classList.toggle("frm_hidden",e.classList.contains("frm-rootline-item-more")):t<i-2?e.classList.remove("frm_hidden"):e.classList.toggle("frm_hidden",!e.classList.contains("frm-rootline-item-more")))}))},makeRootlineResponsive:function(){window.addEventListener("resize",this.resizeRootline),window.dispatchEvent(new Event("resize"))}};function x(e){let t="^(?:\\d|[01]\\d|2[0-3]):[0-5]\\d";return"sec"===e?t+=":[0-5]\\d":"millisec"===e&&(t+=":[0-5]\\d\\:\\d\\d\\d"),t+="$",new RegExp(t)}document.addEventListener("frm_logic_options_loaded",(e=>{if("date"!==e.frmData.valueFieldType)return;const t=e.frmData.fieldID,n=e.frmData.metaKey;document.querySelectorAll(`#frm_logic_${t}_${n} [name="field_options[hide_opt_${t}][]"]`).forEach(s)})),document.addEventListener("change",(function(e){const t=e.target;if(t.closest(".frm-gap-range")||t.closest(".frm-number-range")||t.closest(".frm-step")){const e=t.closest(".frm-single-settings")?.dataset.fid;if(!e)return;const n=function(e,t){let n="";const i=parseFloat(document.querySelector(`[name="field_options[minnum_${t}]"]`).value),o=parseFloat(document.querySelector(`[name="field_options[maxnum_${t}]"]`).value);if(e.closest(".frm-number-range")&&(i<o||(n=r("Minimum value cannot be greater than maximum value.","formidable-pro"))),e.closest(".frm-gap-range")){const e=parseFloat(document.querySelector(`[name="field_options[maxgap_${t}]"]`).value);e||(n=""),parseFloat(document.querySelector(`[name="field_options[mingap_${t}]"]`).value)>e&&(n=r("Minimum gap cannot be greater than maximum gap.","formidable-pro")),e>o-i&&(n=r("Maximum gap cannot be greater than the difference between minimum and maximum values.","formidable-pro"))}return e.closest(".frm-step")&&(parseFloat(e.value)<=0&&(n=r("Step value must be greater than 0.","formidable-pro")),parseFloat(e.value)>o&&(n=r("Step value must be less than maximum value.","formidable-pro"))),n||e.classList.remove("frm_invalid_field"),n}(t,e);if(n)return frmAdminBuild.infoModal(n),void g(t);const i=document.querySelector(`[name="item_meta[${e}]"`);if(!i||"hidden"!==i.type)return;c(i)}else{var o;y.initOnchange(t),t.matches(".frm_product_price")?function(e){const t=e.value.trim();if(!t.includes("[")||!t.includes("]")){if(isNaN(t.replace(/,/,""))){const t=r("Please enter a valid number.","formidable-pro");return frmAdminBuild.infoModal(t),void g(e)}e.classList.contains("frm_invalid_field")&&e.classList.remove("frm_invalid_field")}}(t):(t.closest(".frm-type-file")&&(t.id.startsWith("min_size")||t.id.startsWith("size"))&&function(e){let t;if(isNaN(e.value.trim()))t=r("Please enter a valid number.","formidable-pro");else{const n=e.closest(".frm_grid_container"),i=n.querySelector("[id^=min_size_]"),o=n.querySelector("[id^=size_]");if(i.value&&o.value&&Number(i.value)>Number(o.value))t=r("Minimum size cannot be greater than maximum size.","formidable-pro");else{const t=e.id.startsWith("min_size_")?o:i;isNaN(t.value.trim())||t.classList.remove("frm_invalid_field")}}if(t)return frmAdminBuild.infoModal(t),void g(e);e.classList.contains("frm_invalid_field")&&e.classList.remove("frm_invalid_field")}(t),t.id.startsWith("frm_name_")&&function(e){const t=e.id.replace("frm_name_",""),n=document.querySelector('a[data-code="'+t+'"]');n&&(p(n,e.value),p(n.nextElementSibling,e.value))}(t),function(e){return["frm-rootline-type","frm-rootline-titles-on","frm-rootline-numbers-off","frm-rootline-lines-off"].includes(e.id)||e.matches(".frm-rootline-title-setting input")}(t)?L.updateRootline():t.matches(".frm_page_transition_setting")?I.onChangeTransition(e):(t.matches(".frm_scale_opt")&&function(e){setTimeout((function(){let t=e.closest(".frm-single-settings").dataset.fid;t&&frmAdminBuild.adjustConditionalLogicOptionOrders(t,"scale")}),0)}(t),t.matches('input[name^="field_options[any_all_"]')?b(t):(o=t).classList.contains("frm_format_dropdown")||o.closest(".frm_custom_format_options_wrapper")||o.closest(".frm_custom_currency_options_wrapper")?function(e){const t=e.closest(".frm-single-settings"),n=t.querySelector(".frm_format_dropdown"),i=t.getAttribute("data-fid"),r=n.value,o=e.closest(".frm-type-range");if(n===e&&(h(t,i,r),function(e,t,n){if(e.querySelector(`option[data-dependency="#frm-field-format-currency-${t}"]`).removeAttribute("data-dependency-skip"),"currency"!==n)return;document.getElementById(`frm_use_global_currency_${t}`).checked||(e.querySelector(`option[data-dependency="#frm-field-format-currency-${t}"]`).setAttribute("data-dependency-skip",""),document.getElementById(`frm-field-format-currency-${t}`).classList.remove("frm_hidden"))}(n,i,r)),d(r)||document.getElementById(`frm_format_${i}`).setAttribute("value",""),"text"==(-1!==["number","custom"].indexOf(r)?"text":"select")?(t.querySelector('input[name^="field_options[calc_dec_"]')?.classList.remove("frm_hidden"),t.querySelector('select[name^="field_options[custom_decimals_"]')?.classList.add("frm_hidden")):(t.querySelector('input[name^="field_options[calc_dec_"]')?.classList.add("frm_hidden"),t.querySelector('select[name^="field_options[custom_decimals_"]')?.classList.remove("frm_hidden")),"none"===r){const e=t.querySelector('input[name^="field_options[calc_dec_"]');e&&(e.value="")}o?function(e){const t=document.getElementById("frm_field_id_"+e).querySelector(".frm_range_container input");S({field:t,att:"value",newValue:t.value})}(i):v(i,r)}(t):t.classList.contains("frm-global-currency-checkbox")?function(e){const t=e.closest(".frm-single-settings"),n=t.querySelector(".frm_format_dropdown"),i=e.closest(".frm-single-settings").getAttribute("data-fid");e.checked?h(t,i,n.value):e.nextElementSibling.value="0",document.getElementById(`frm-field-format-currency-${i}`).classList.toggle("frm_hidden",e.checked)}(t):t.classList.contains("radio_maxnum")?function(e){const t=e.id.replace("radio_maxnum_",""),n=document.querySelector("#field_"+t+"_inner_container .frm-star-group");if(!n)return;const i=document.getElementsByName("field_options[field_key_"+t+"]")[0].value;n.innerHTML="";let r,o,l,a,d=e.value;1>d&&(d=1);const s=document.createDocumentFragment();for(r=1;r<=d;r++)o=frmDom.tag("input"),o.setAttribute("name","field_options[options_"+t+"]["+r+"]"),o.setAttribute("type","hidden"),l=frmDom.tag("input"),l.id="field_"+i+"-"+r,l.setAttribute("type","radio"),l.setAttribute("name","item_meta["+t+']"'),a=frmDom.tag("label",{className:"star-rating",children:[frmDom.svg({href:"#frm_star_icon"}),frmDom.svg({href:"#frm_star_full_icon"})]}),a.setAttribute("for",l.id),s.appendChild(o),s.appendChild(l),s.appendChild(a),s.appendChild(document.createTextNode(" "));n.appendChild(s)}(t):t.classList.contains("frm-default-value-select")?function(e){const t=e.closest(".frm-with-right-icon"),n=t.querySelector("input.default-value-field"),i=t.querySelector(".frm_more_horiz_solid_icon"),r="frm-toggle-custom"===e.value;n.classList.toggle("frm_hidden",!r),i.classList.toggle("frm_hidden",!r),n.value=r?"":e.selectedOptions[0].dataset.label}(t):(t.classList.contains("frm_scale_opt")?function(e){const t=e.id.replace("scale_maxnum_","").replace("scale_minnum_","").replace("frm_step_","");let n=document.getElementById("scale_minnum_"+t).value,i=document.getElementById("scale_maxnum_"+t).value;!function(e,t,n){const i=jQuery("#field_"+n+"_inner_container .frm_form_fields");i.html("");let r=parseInt(document.getElementById("frm_step_"+n).value,10);0===r&&(r=1);const o=e<=t;r=Math.abs(r);for(let a=e;o?a<=t:a>=t;a=o?a+r:a-r)l=a,i.append('<div class="frm_scale"><label><input type="hidden" name="field_options[options_'+n+"]["+l+']" value="'+l+'"> <input type="radio" name="item_meta['+n+']" value="'+l+'"> '+l+" </label></div>");var l;i.append('<div class="clear"></div>')}(parseInt(n,10),parseInt(i,10),t)}(t):0===t.id.indexOf("step_unit_")&&function(e){const t=e.target.value,r=x(t),o=e.target.closest(".frm-single-settings"),l=o.querySelectorAll('.frm-number-range input[type="text"]'),a=o.querySelector('input[id^="frm_step_"]'),d=o.querySelector('label[for^="single_time_"]'),s=e=>{let[r,o,l,a]=e.split(":");return r&&!isNaN(r)||(r="00"),o&&!isNaN(o)||(o="00"),n!==t&&i!==t?r+":"+o:(l&&!isNaN(l)||(l="00"),n===t?[r,o,l].join(":"):(a&&!isNaN(a)||(a="000"),[r,o,l,a].join(":")))};l.forEach((e=>{e.value.match(r)||(e.value=s(e.value))})),a.value&&isNaN(a.value)&&(a.value=s(a.value)),n===t||i===t?d.classList.add("frm_hidden"):d.classList.remove("frm_hidden")}(e),function(e){if(!e.id.startsWith("start_time")&&!e.id.startsWith("end_time"))return;const t=e;let n=!0;if(t.matches("[id^=frm_step_]")){if(t.value.match(/^\d{1,2}$/))return;frmAdminBuild.infoModal("Step value is invalid."),n=!1}else if(!t.value.match(x(function(){const e=t.closest(".frm-single-settings").querySelector('select[id^="step_unit_"]');return!!e&&e.value}()))){let e;e=t.matches(".frm-type-time [id^=start_time]")?"Start time":"End time",frmAdminBuild.infoModal(`${e} is invalid.`),n=!1}n?t.classList.contains("frm_invalid_field")&&t.classList.remove("frm_invalid_field"):g(t)}(t),t.id&&(t.id.startsWith("lookup_displayed_value_")||t.id.startsWith("lookup_saved_value_"))&&function(e){const t=e.id.startsWith("lookup_saved_value_"),n=e.id.replace("lookup_displayed_value_","").replace("lookup_saved_value_",""),i=document.getElementById("lookup_saved_value_"+n),r=document.getElementById("lookup_displayed_value_"+n);t?"label"===e.value&&(r.value="label"):"value"===e.value&&(i.value="value")}(t))))}})),document.addEventListener("frm_added_field",(e=>{I.onAddedField(e),u(e),function(e){const t=e.frmField.querySelector(".frm_range_container");if(!t)return;const n=t.querySelector('input[type="hidden"]');n&&c(n,t)}(e)})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".frm_format_dropdown").forEach((e=>{d(e.value)&&v(e.dataset.fieldId,e.value)}))})),document.addEventListener("click",y.initOnClick),document.addEventListener("click",(function(e){const t=e.target;t.closest(".frm_add_field")&&"range"===t.closest(".frmbutton").id&&(l&&(l.remove(),l=null),a())})),jQuery(document).on("dropdeactivate",(function(e,t){"range"===t.draggable[0].id&&a()})),function(){let e;function t(e){const t=document.getElementById("default-value-for-"+e);i(t),n(t)}function n(e){const t=e.getAttribute("data-changeme");document.getElementById(e.getAttribute("data-html-id")).setAttribute("data-changeme",t),e.removeAttribute("data-changeme");const n=document.getElementById(t);n&&jQuery(n).on("change",(function(){tinyMCE.editors[n.id]&&!tinyMCE.editors[n.id].isHidden()&&tinyMCE.editors[n.id].setContent(n.value)}))}function i(e){const{svg:t}=frmDom,n=e.getAttribute("data-html-id"),i=t({href:"#frm_more_horiz_solid_icon",classList:["frm_more_horiz_solid_icon","frm-show-inline-modal"]});i.setAttribute("data-open","frm-smart-values-box"),i.setAttribute("title",e.getAttribute("data-modal-trigger-title")),document.getElementById(n).parentElement.prepend(i);const r=document.createElement("p");r.prepend(document.getElementById("wp-"+n+"-wrap")),e.appendChild(r)}!function(){const e=document.querySelectorAll(".frm-single-settings.frm-type-rte .frm-default-value-wrapper");e.length&&e.forEach((e=>{i(e),n(e)}))}(),document.addEventListener("click",(function(e){const t=e.target.classList;(t.contains("frm-break-field-group")||t.contains("frm-row-layout-option")||t.contains("frm-save-custom-field-group-layout"))&&setTimeout((()=>document.querySelectorAll("#frm-show-fields .wp-editor-area").forEach(frmDom.wysiwyg.init)),1)})),document.addEventListener("frm_added_field",(e=>{if("rte"!==e.frmType||!e.frmField)return;t(e.frmField.getAttribute("data-fid"));const n=e.frmField.querySelector(".wp-editor-area");n&&frmDom.wysiwyg.init(n)})),document.addEventListener("frm_ajax_loaded_field",(e=>{e.frmFields.forEach((e=>{if("rte"!==e.type)return;t(e.id);const n=document.querySelector("#frm_field_id_"+e.id+" .wp-editor-area");n&&frmDom.wysiwyg.init(n)}))})),jQuery(document).on("dropdeactivate",(function(t,n){e=n.draggable.get(0)})),document.addEventListener("frm_sync_after_drag_and_drop",(()=>{e&&e.querySelectorAll(".wp-editor-area").forEach(frmDom.wysiwyg.init)}))}(),L.init()}()}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}(()=>{"use strict";const{documentOn:e}=frmDom.util;function t({target:e}){const t=e.closest(".frm-field-formula")?.querySelector('input[id^="frm_calc_"]');t&&(t.value="",t.focus())}function i(e){const t=e.target.classList.contains("frm-math-button")?e.target:e.target.closest(".frm-field-formula-button.frm-math-button");t&&function({element:e,text:t}){if(!e||!t)return;const{selectionStart:n,selectionEnd:i,value:r}=e;e.value=r.slice(0,n)+t+r.slice(i);const o=n+t.length;e.focus(),e.setSelectionRange(o,o)}({element:t.closest(".frm-field-formula")?.querySelector(".frm-field-formula-editor"),text:t.querySelector(".frm-math-button-text")?.textContent})}function r(e){const{target:t,key:n,metaKey:i,ctrlKey:r}=e;(i||r)&&"K"===n.toUpperCase()&&(e.preventDefault(),t.closest(".frm-field-formula")?.querySelector(".frm-field-formula-insert-field")?.click())}function o(e,t){if(!e||!e.startsWith("frm_watch_lookup_"))return;if(t.parentElement.children.length>1)return;const n=t.closest(".frm-single-settings")?.dataset.fid;n&&setTimeout((()=>{document.getElementById(`frm_watch_lookup_label_${n}`)?.classList.add("frm-force-hidden")}),190)}const{documentOn:l}=window.frmDom.util;function a(e){const t=e.target.closest("[data-fid]")?.dataset.fid;if(!t)return;const n=document.getElementById(`frm_calc_${t}`);n&&(n.value="");const i=document.getElementById(`frm-text-toggle-name=field_options[calc_type_${t}]-0`),r=document.getElementById(`frm-text-toggle-name=field_options[calc_type_${t}]-1`);i&&(i.checked=!1),r&&(r.checked=!0)}function d(e){const t=e.target.closest("[data-fid]")?.dataset.fid;if(!t)return;const n=document.getElementById(`frm_date_calc_${t}`);n&&(n.value="");const i=document.getElementById(`frm_date_calc_diff_${t}`);i&&(i.value="")}function s(e){const t=e.target.closest("[data-fid]")?.dataset.fid;if(!t)return;const n=document.getElementById(`get_values_form_${t}`);n&&(n.value="");const i=document.getElementById(`get_values_field_${t}`);i&&(i.value="");const r=document.getElementById(`frm_watch_lookup_label_${t}`);r&&r.classList.add("frm-force-hidden");const o=document.getElementById(`frm_watch_lookup_block_${t}`);o&&(o.innerHTML="");const l=document.getElementById(`get_most_recent_value_${t}`);l&&(l.checked=!1)}function c(e){const t=e.target,n=t.closest("[data-fid]")?.dataset.fid;if(!n)return;const i=document.querySelector(`[name="field_options[enable_conditional_logic_${n}]"]`);i&&(i.value=t.checked?"1":"0")}var m;n(104),m=()=>{e("click",".frm-field-formula-insert-field",t),e("click",".frm-field-formula-button.frm-math-button",i),e("keydown",".frm-field-formula-editor",r),wp.hooks.addAction("frm_admin_tag_removed","formidable-pro-builder",o),l("change",'[id^="frm-default-type-calc-"]:not(:checked)',a),l("change",'[id^="frm-default-type-date_calc-"]:not(:checked)',d),l("change",'[id^="frm-default-type-get_values_field-"]:not(:checked)',s),l("change",'[id^="frm-enable-conditional-logic"]',c)},"undefined"!=typeof document&&("complete"!==document.readyState&&"interactive"!==document.readyState?document.addEventListener("DOMContentLoaded",m):m())})()})();